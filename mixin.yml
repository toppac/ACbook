mixin: # object

  dns:
    enable: true
    listen: 0.0.0.0:53
    # These nameservers are used to resolve the DNS nameserver hostnames below.
    # Specify IP addresses only
    default-nameserver:
      - 114.114.114.114
      - 222.246.129.80
      - 1.1.1.1
      # - 8.8.8.8
    enhanced-mode: fake-ip # or redir-host fake-ip
    fake-ip-range: 198.18.0.1/16 # Fake IP addresses pool CIDR
    # use-hosts: true # lookup hosts and return IP record
    # hosts:
    #   'lodev.morfans.cn': '::1'

    # Hostnames in this list will not be resolved with fake IPs
    # i.e. questions to these domain names will always be answered with their
    # real IP addresses
    fake-ip-filter:
      # ä»¥ä¸‹åŸŸååˆ—è¡¨å‚è€ƒè‡ª vernesong/OpenClash é¡¹ç›®ï¼Œå¹¶ç”± Hackl0us æ•´ç†è¡¥å……
      - '*.nb.gl'
      - '*.morfans.cn'
      - 'dns.rubyfish.cn'
      # === LAN ===
      - '*.lan'
      # === Linksys Wireless Router ===
      - '*.linksys.com'
      - '*.linksyssmartwifi.com'
      # === Apple Software Update Service ===
      - 'swscan.apple.com'
      - 'mesu.apple.com'
      # === Windows 10 Connnect Detection ===
      - '*.msftconnecttest.com'
      - '*.msftncsi.com'
      # === NTP Service ===
      - 'time.*.com'
      - 'time.*.gov'
      - 'time.*.edu.cn'
      - 'time.*.apple.com'

      - 'time1.*.com'
      - 'time2.*.com'
      - 'time3.*.com'
      - 'time4.*.com'
      - 'time5.*.com'
      - 'time6.*.com'
      - 'time7.*.com'

      - 'ntp.*.com'
      - 'ntp.*.com'
      - 'ntp1.*.com'
      - 'ntp2.*.com'
      - 'ntp3.*.com'
      - 'ntp4.*.com'
      - 'ntp5.*.com'
      - 'ntp6.*.com'
      - 'ntp7.*.com'

      - '*.time.edu.cn'
      - '*.ntp.org.cn'
      - '+.pool.ntp.org'

      - 'time1.cloud.tencent.com'
      # === Music Service ===
      ## NetEase
      - '+.music.163.com'
      - '*.126.net'
      ## Baidu
      - 'musicapi.taihe.com'
      - 'music.taihe.com'
      ## Kugou
      - 'songsearch.kugou.com'
      - 'trackercdn.kugou.com'
      ## Kuwo
      - '*.kuwo.cn'
      ## JOOX
      - 'api-jooxtt.sanook.com'
      - 'api.joox.com'
      - 'joox.com'
      ## QQ
      - '+.y.qq.com'
      - '+.music.tc.qq.com'
      - 'aqqmusic.tc.qq.com'
      - '+.stream.qqmusic.qq.com'
      ## Xiami
      - '*.xiami.com'
      ## Migu
      - '+.music.migu.cn'
      # === Game Service ===
      ## Nintendo Switch
      - '+.srv.nintendo.net'
      ## Sony PlayStation
      - '+.stun.playstation.net'
      ## Microsoft Xbox
      - 'xbox.*.microsoft.com'
      - '+.xboxlive.com'
      # === Other ===
      ## QQ Quick Login
      - 'localhost.ptlogin2.qq.com'
      ## Golang
      - 'proxy.golang.org'
      ## STUN Server
      - 'stun.*.*'
      - 'stun.*.*.*'

    # Supports UDP, TCP, DoT, DoH. You can specify the port to connect to.
    # All DNS questions are sent directly to the nameserver, without proxies
    # involved. Clash answers the DNS question with the first result gathered.
    nameserver:
      - https://doh.pub/dns-query
      - https://doh.dns.sb/dns-query
      - tls://dns.rubyfish.cn:853
      - https://1.1.1.1/dns-query
      # - https://rubyfish.cn/dns-query
      # - 114.114.114.114
      # - https://139.224.112.177/dns-query
      # - 222.246.129.80
      # - 59.51.78.210
    # ä¹‹æ‰€ä»¥å»ºè®®å°½é‡ä¸è®¾ç½® fallbackï¼Œå› ä¸ºä½¿ç”¨ fallback ä»¥åä¼š DNS è§£æç”¨æ—¶ä¼šå¤§å¤§å»¶é•¿ï¼Œä»è€Œå½±å“æ•´ä½“ HTTP å»¶æ—¶ï¼Œä¸¥é‡å½±å“ä¸Šç½‘ä½“éªŒã€‚å¦‚æœå— DNS æ±¡æŸ“æ‰€è¿«è¢«è¿«è®¾ç½® fallbackï¼Œè¯·å°½å¯èƒ½é€‰æ‹©é€Ÿåº¦å¿«çš„ DoT ä½œä¸º fallbackã€‚
    fallback:
      - 'tls://1.1.1.1:853'
      # - tls://dns.rubyfish.cn:853
      - https://dns.google/dns-query
      # - https://dns.rubyfish.cn/dns-query
      # - https://doh.xeton.dev/dns-query
      # - 59.51.78.210
      # - https://dns.wcc.best/dns-query
    fallback-filter:
      geoip: false
      ipcidr:
        - 240.0.0.0/4
        - 0.0.0.0/32
      # domain:
      #   - '+.google.com'
      #   - '+.facebook.com'
      #   - '+.youtube.com'

  tun:
    enable: true
    stack: gvisor # only gvisor
    dns-hijack:
      # - 222.246.129.80
      - 198.18.0.2:53 # when `fake-ip-range` is 198.18.0.1/16, should hijack 198.18.0.2:53
    macOS-auto-route: true # auto set global route for Windows
    # It is recommended to use `interface-name`
    macOS-auto-detect-interface: true # è‡ªåŠ¨æ£€æµ‹å‡ºå£ç½‘å¡
  # proxies:
  # proxy-groups: 
  #   - { name: "PROXY", type: select, proxies: [] }
  #   - { name: "Google", type: select, proxies: [PROXY,] }
  #   - { name: "Torrent", type: select, proxies: [RPOXY,Domestic,] }
  #   - { name: "Youtube", type: select, proxies: [PROXY,] }
  #   - { name: "Telegram", type: select, proxies: [PROXY,] }
  #   - { name: "Opera", type: select, proxies: [PROXY,] }
  #   - { name: "Firefox", type: select, proxies: [PROXY,] }
  #   - { name: "AsianTV", type: select, proxies: [Domestic,PROXY,] }
  #   - { name: "GlobalTV", type: select, proxies: [PROXY,] }
  #   - { name: "Microsoft", type: select, proxies: [Domestic,AdBlock,PROXY,] }
  #   - { name: "iCloud", type: select, proxies: [Domestic,AdBlock,PROXY,] }
  #   - { name: "Apple", type: select, proxies: [Domestic,AdBlock,PROXY,] }
  #   - { name: "Steam", type: select, proxies: [PROXY,] }
  #   - { name: "AdBlock", type: select, proxies: [REJECT] }
  #   - { name: "Domestic", type: select, proxies: [DIRECT] }
  rule-providers:
    Reject-Lorindabakken:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/reject/reject.txt"
      path: ./ruleset/reject-Lorindabakken.yaml
      interval: 86400

    Reject-Loyalsoldier:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
      path: ./ruleset/reject-Loyalsoldier.yaml
      interval: 86400

    Reject-e7kmbb:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/reject/github/e7kmbb.txt"
      path: ./ruleset/Reject-e7kmbb.yaml
      interval: 86400

    Reject-jdlingyu:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/reject/github/jdlingyu.txt"
      path: ./ruleset/Reject-jdlingyu.yaml
      interval: 86400

    Reject-lhie7:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/reject/github/lhie7.txt"
      path: ./ruleset/Reject-lhie7.yaml
      interval: 86400

    Reject-neodevhost:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/reject/github/neodevhost.txt"
      path: ./ruleset/Reject-neodevhost.yaml
      interval: 86400

    Reject-xqin:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/reject/github/xqin.txt"
      path: ./ruleset/Reject-xqin.yaml
      interval: 86400

    Reject-keyword:
      type: http
      behavior: classical
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/reject/github/keyword.txt"
      path: ./ruleset/Reject-keyword.yaml
      interval: 86400

    Torrent:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/proxy/torrent.txt"
      path: ./ruleset/torrent.yaml
      intervalL: 86400

    google-Loyalsoldier:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/google.txt"
      path: ./ruleset/google-Loyalsoldier.yaml
      interval: 86400

    opera:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/proxy/opera.txt"
      path: ./ruleset/opera.yaml
      interval: 86400

    firefox:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/proxy/firefox.txt"
      path: ./ruleset/firefox.yaml
      interval: 86400

    fuckip:
      type: http
      behavior: ipcidr
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/proxy/fuckip.txt"
      path: ./ruleset/fuckip.yaml
      interval: 86400

    icloud-Loyalsoldier:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/icloud.txt"
      path: ./ruleset/icloud-Loyalsoldier.yaml
      interval: 86400

    AsianTV:
      type: http
      behavior: classical
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/rule-set/asian-tv.yaml"
      path: ./ruleset/AsianTV.yaml
      interval: 86400

    GlobalTV:
      type: http
      behavior: classical
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/rule-set/global-tv.yaml"
      path: ./ruleset/GlobalTV.yaml
      interval: 86400

    Microsoft:
      type: http
      behavior: classical
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/rule-set/microsoft.yaml"
      path: ./ruleset/Microsoft.yaml
      interval: 86400

    Steam:
      type: http
      behavior: classical
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/rule-set/steam.yaml"
      path: ./ruleset/Steam.yaml
      interval: 86400

    Telegram:
      type: http
      behavior: classical
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/rule-set/telegram.yaml"
      path: ./ruleset/Telegram.yaml
      interval: 86400

    telegramcidr-Loyalsoldier:
      type: http
      behavior: ipcidr
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/telegramcidr.txt"
      path: ./ruleset/telegramcidr-Loyalsoldier.yaml
      interval: 86400

    Youtube:
      type: http
      behavior: classical
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/rule-set/youtube.yaml"
      path: ./ruleset/Youtube.yaml
      interval: 86400

    apple-Loyalsoldier:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/apple.txt"
      path: ./ruleset/apple-Loyalsoldier.yaml
      interval: 86400

    proxy-lorindabakken:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/lorindabakken/FUCK-INTERNET@master/provider/proxy/proxy.txt"
      path: ./ruleset/proxy-lorindabakken.yaml
      interval: 86400

    gfw-Loyalsoldier:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/gfw.txt"
      path: ./ruleset/gfw-Loyalsoldier.yaml
      interval: 86400

    greatfire-Loyalsoldier:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/greatfire.txt"
      path: ./ruleset/greatfire-Loyalsoldier.yaml
      interval: 86400

    tld-not-cn-Loyalsoldier:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/tld-not-cn.txt"
      path: ./ruleset/tld-not-cn-Loyalsoldier.yaml
      interval: 86400

    direct-Loyalsoldier:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt"
      path: ./ruleset/direct-Loyalsoldier.yaml
      interval: 86400

    cncidr:
      type: http
      behavior: ipcidr
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt"
      path: ./ruleset/cncidr-Loyalsoldier.yaml
      interval: 86400

    lancidr:
      type: http
      behavior: ipcidr
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt"
      path: ./ruleset/lancidr-Loyalsoldier.yaml
      interval: 86400

    proxy-Loyalsoldier:
      type: http
      behavior: domain
      url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt"
      path: ./ruleset/proxy-Loyalsoldier.yaml
      interval: 86400
  rules:
    - PROCESS-NAME,v2ray,ğŸ¯ å…¨çƒç›´è¿
    # - PROCESS-NAME,Surge%203,ğŸ¯ å…¨çƒç›´è¿
    - PROCESS-NAME,ss-local,ğŸ¯ å…¨çƒç›´è¿
    - PROCESS-NAME,privoxy,ğŸ¯ å…¨çƒç›´è¿
    - PROCESS-NAME,trojan,ğŸ¯ å…¨çƒç›´è¿
    - PROCESS-NAME,trojan-go,ğŸ¯ å…¨çƒç›´è¿
    - PROCESS-NAME,naive,ğŸ¯ å…¨çƒç›´è¿
    # - PROCESS-NAME,Thunder,ğŸ¯ å…¨çƒç›´è¿
    - PROCESS-NAME,DownloadService,ğŸ¯ å…¨çƒç›´è¿
    # - PROCESS-NAME,qBittorrent,ğŸ¯ å…¨çƒç›´è¿
    - PROCESS-NAME,Transmission,ğŸ¯ å…¨çƒç›´è¿
    - PROCESS-NAME,fdm,ğŸ¯ å…¨çƒç›´è¿
    - PROCESS-NAME,aria2c,ğŸ¯ å…¨çƒç›´è¿
    # - PROCESS-NAME,Folx,ğŸ¯ å…¨çƒç›´è¿
    - PROCESS-NAME,NetTransport,ğŸ¯ å…¨çƒç›´è¿
    # - PROCESS-NAME,uTorrent,Torrent
    # - PROCESS-NAME,WebTorrent,Torrent
    # - DOMAIN,clash.razord.top,ğŸ¯ å…¨çƒç›´è¿
    # - DOMAIN,yacd.haishan.me,ğŸ¯ å…¨çƒç›´è¿
    - RULE-SET,Reject-Lorindabakken,ğŸ›‘ å…¨çƒæ‹¦æˆª
    - RULE-SET,Reject-Loyalsoldier,ğŸ›‘ å…¨çƒæ‹¦æˆª
    - RULE-SET,Reject-e7kmbb,ğŸ›‘ å…¨çƒæ‹¦æˆª
    - RULE-SET,Reject-jdlingyu,ğŸ›‘ å…¨çƒæ‹¦æˆª
    - RULE-SET,Reject-lhie7,ğŸ›‘ å…¨çƒæ‹¦æˆª
    - RULE-SET,Reject-neodevhost,ğŸ›‘ å…¨çƒæ‹¦æˆª
    # - RULE-SET,Reject-xqin,ğŸ›‘ å…¨çƒæ‹¦æˆª
    - RULE-SET,Reject-keyword,ğŸ›‘ å…¨çƒæ‹¦æˆª
    # - RULE-SET,Torrent,Torrent
    # - RULE-SET,google-Loyalsoldier,Google
    # - RULE-SET,opera,Opera
    # - RULE-SET,firefox,Firefox
    - RULE-SET,fuckip,ğŸ”° èŠ‚ç‚¹é€‰æ‹©
    - RULE-SET,proxy-lorindabakken,ğŸ”° èŠ‚ç‚¹é€‰æ‹©
    # - RULE-SET,AsianTV,AsianTV
    # - RULE-SET,GlobalTV,GlobalTV
    - RULE-SET,Microsoft,â“‚ï¸ å¾®è½¯æœåŠ¡
    # - RULE-SET,Steam,Steam
    # - RULE-SET,Youtube,Youtube
    - RULE-SET,Telegram,ğŸ“² ç”µæŠ¥ä¿¡æ¯
    - RULE-SET,apple-Loyalsoldier,ğŸ è‹¹æœæœåŠ¡
    - RULE-SET,tld-not-cn-Loyalsoldier,ğŸ”° èŠ‚ç‚¹é€‰æ‹©
    - RULE-SET,gfw-Loyalsoldier,ğŸ”° èŠ‚ç‚¹é€‰æ‹©
    - RULE-SET,greatfire-Loyalsoldier,ğŸ”° èŠ‚ç‚¹é€‰æ‹©
    - RULE-SET,telegramcidr-Loyalsoldier,ğŸ“² ç”µæŠ¥ä¿¡æ¯
    - RULE-SET,proxy-Loyalsoldier,ğŸ”° èŠ‚ç‚¹é€‰æ‹©
    - RULE-SET,direct-Loyalsoldier,ğŸ¯ å…¨çƒç›´è¿
    - RULE-SET,cncidr,ğŸ¯ å…¨çƒç›´è¿,no-resolve
    - RULE-SET,lancidr,ğŸ¯ å…¨çƒç›´è¿,no-resolve
    - GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿,no-resolve
    - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
